/* STRING_LENGTH.asm * Returns in R0 the length of a given string */ STRING_LENGTH:  PUSH(FP);  MOV(FP, SP);    CMP(FPARG(1), IMM(1));  JUMP_LT(HAS_NO_ARGS_STRING_LENGTH);  JUMP_GT(TOO_MANY_ARGS_STRING_LENGTH);  CMP(IND(FPARG(2)),T_STRING);  JUMP_NE(NOT_VALID_ARG_STRING_LENGTH);    PUSH(INDD(FPARG(2),1));  CALL(MAKE_SOB_INTEGER);  DROP(1);  POP(FP);  RETURN;    NOT_VALID_ARG_STRING_LENGTH:  CALL(ERROR_NOT_VALID_ARG);    HAS_NO_ARGS_STRING_LENGTH:  CALL(ERROR_NOT_ENOUGH_ARGS);    TOO_MANY_ARGS_STRING_LENGTH:  CALL(ERROR_TOO_MANY_ARGS);