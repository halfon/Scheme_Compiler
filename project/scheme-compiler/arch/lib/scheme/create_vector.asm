/* CREATE_VECTOR.asm * Takes 0 or more elements and put in R0 a vector compund from the given elements */ CREATE_VECTOR:  PUSH(FP);  MOV(FP, SP);  PUSH(R1);  PUSH(R2);    CMP(FPARG(1), IMM(0));  JUMP_EQ(CREATE_EMPTY_VECTOR);  MOV(R2,IMM(2));  MOV(R1,FPARG(1));  START_LOOP_CREATE_VECTOR:  CMP(R1,IMM(0));  JUMP_EQ(END_CREATE_VECTOR);  PUSH(FPARG(R2));  DECR(R1);  INCR(R2);  JUMP(START_LOOP_CREATE_VECTOR);      END_CREATE_VECTOR:  PUSH(FPARG(1));  CALL(MAKE_SOB_VECTOR);  MOV(R1,FPARG(1));  INCR(R1);  DROP(R1);   POP(R2);  POP(R1);  POP(FP);  RETURN;    CREATE_EMPTY_VECTOR:  PUSH(IMM(0));  CALL(MAKE_SOB_VECTOR);  DROP(1);  POP(R2);  POP(R1);  POP(FP);  RETURN;