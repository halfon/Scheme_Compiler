/* car.asm * Returns the first argument of the given pair */ CAR:  PUSH(FP);  MOV(FP, SP);    CMP(FPARG(1), IMM(1));  JUMP_LT(HAS_NO_ARGS_CAR);  JUMP_GT(TOO_MANY_ARGS_CAR);  MOV(R0,FPARG(2));  CMP(IND(R0),IMM(T_PAIR));  JUMP_NE(NOT_VALID_ARG_CAR);  MOV(R0, INDD(R0,1));  POP(FP);  RETURN;    HAS_NO_ARGS_CAR:  CALL(ERROR_NOT_ENOUGH_ARGS);    TOO_MANY_ARGS_CAR:  CALL(ERROR_TOO_MANY_ARGS);    NOT_VALID_ARG_CAR:  CALL(ERROR_NOT_VALID_ARG);